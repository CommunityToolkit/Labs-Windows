<!--  Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. See the LICENSE file in the project root for more information.  -->
<ResourceDictionary x:Class="AdornersExperiment.Samples.InputValidation.InputValidationAdornerResources"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:Windows11="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 14)"
                    xmlns:behaviors="using:CommunityToolkit.WinUI.Behaviors"
                    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
                    xmlns:local="using:AdornersExperiment.Samples.InputValidation"
                    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
                    xmlns:ui="using:CommunityToolkit.WinUI">

    <!--  Implicitly applied default style  -->
    <Style BasedOn="{StaticResource DefaultInputValidationAdornerStyle}"
           TargetType="local:InputValidationAdorner" />

    <Style x:Key="DefaultInputValidationAdornerStyle"
           TargetType="local:InputValidationAdorner">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:InputValidationAdorner">
                    <ContentControl x:Name="ContentContainer"
                                    HorizontalContentAlignment="Stretch"
                                    VerticalContentAlignment="Stretch">
                        <ContentControl.ContentTemplate>
                            <DataTemplate x:DataType="local:InputValidationAdorner">
                                <Grid Visibility="{x:Bind HasValidationFailed, Mode=OneWay}">
                                    <Rectangle Margin="-4"
                                               HorizontalAlignment="Stretch"
                                               VerticalAlignment="Stretch"
                                               RadiusX="4"
                                               RadiusY="4"
                                               Stroke="Red"
                                               StrokeThickness="1" />

                                    <muxc:InfoBadge Width="20"
                                                    MinHeight="20"
                                                    Margin="0,0,-32,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Background="{ThemeResource SystemFillColorCriticalBrush}">
                                        <muxc:InfoBadge.IconSource>
                                            <muxc:FontIconSource FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                                 Glyph="&#xF13C;" />
                                        </muxc:InfoBadge.IconSource>
                                        <ToolTipService.ToolTip>
                                            <ToolTip Content="{x:Bind ValidationMessage, Mode=OneWay}" />
                                        </ToolTipService.ToolTip>
                                    </muxc:InfoBadge>
                                </Grid>
                            </DataTemplate>
                        </ContentControl.ContentTemplate>
                    </ContentControl>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
