<!--  Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. See the LICENSE file in the project root for more information.  -->
<Page x:Class="ColorAnalyzerExperiment.Samples.AccentAnalyzerSample"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:behaviors="using:CommunityToolkit.WinUI.Behaviors"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:helpers="using:CommunityToolkit.WinUI.Helpers"
      xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:local="using:ColorAnalyzerExperiment.Samples"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d">

    <Page.Resources>
        <helpers:AccentAnalyzer x:Name="AccentAnalyzer"
                                Source="{x:Bind AccentedImage}" />
    </Page.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <StackPanel Padding="20"
                    VerticalAlignment="Center">
            <Image x:Name="AccentedImage"
                   HorizontalAlignment="Center"
                   Source="/ColorAnalyzerExperiment.Samples/Assets/StockImages/Bloom.jpg"
                   Stretch="Uniform">
                <interactivity:Interaction.Behaviors>
                    <interactivity:EventTriggerBehavior EventName="ImageOpened">
                        <interactivity:CallMethodAction MethodName="UpdateAccent"
                                                        TargetObject="{x:Bind AccentAnalyzer}" />
                    </interactivity:EventTriggerBehavior>
                </interactivity:Interaction.Behaviors>
            </Image>
            <TextBlock HorizontalAlignment="Center"
                       Text="{x:Bind AccentAnalyzer.Colorfulness, Mode=OneWay}" />
        </StackPanel>

        <Grid Grid.Column="1"
              Height="400"
              MaxWidth="600"
              Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="4*" />
                <RowDefinition Height="2*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="2*" />
            </Grid.RowDefinitions>

            <!--  Dominant  -->
            <Border Grid.RowSpan="3"
                    Grid.Column="0"
                    Margin="4"
                    Padding="2">
                <Border.Background>
                    <SolidColorBrush Color="{x:Bind AccentAnalyzer.DominantColor, Mode=OneWay}" />
                </Border.Background>
                <TextBlock Foreground="Black"
                           Text="Dominant" />
            </Border>

            <!--  Base  -->
            <Border Grid.Row="4"
                    Grid.ColumnSpan="4"
                    Margin="4"
                    Padding="2">
                <Border.Background>
                    <SolidColorBrush Color="{x:Bind AccentAnalyzer.BaseColor, Mode=OneWay}" />
                </Border.Background>
                <TextBlock Foreground="Black"
                           Text="Base" />
            </Border>

            <!--  Primary  -->
            <Border Grid.Row="0"
                    Grid.Column="1"
                    Margin="4"
                    Padding="2">
                <Border.Background>
                    <SolidColorBrush Color="{x:Bind AccentAnalyzer.PrimaryAccentColor, Mode=OneWay}" />
                </Border.Background>
                <TextBlock Foreground="Black"
                           Text="Primary" />
            </Border>
            <!--  Secondary  -->
            <Border Grid.Row="1"
                    Grid.Column="1"
                    Margin="4"
                    Padding="2">
                <Border.Background>
                    <SolidColorBrush Color="{x:Bind AccentAnalyzer.SecondaryAccentColor, Mode=OneWay}" />
                </Border.Background>
                <TextBlock Foreground="Black"
                           Text="Secondary" />
            </Border>
            <!--  Tertiary  -->
            <Border Grid.Row="2"
                    Grid.Column="1"
                    Margin="4"
                    Padding="2">
                <Border.Background>
                    <SolidColorBrush Color="{x:Bind AccentAnalyzer.TertiaryAccentColor, Mode=OneWay}" />
                </Border.Background>
                <TextBlock Foreground="Black"
                           Text="Tertiary" />
            </Border>

            <!--  Gradient  -->
            <Rectangle Grid.RowSpan="3"
                       Grid.Column="2"
                       Margin="4">
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                        <GradientStopCollection>
                            <GradientStop Offset="0" Color="{x:Bind AccentAnalyzer.PrimaryAccentColor, Mode=OneWay}" />
                            <GradientStop Offset="0.74" Color="{x:Bind AccentAnalyzer.SecondaryAccentColor, Mode=OneWay}" />
                            <GradientStop Offset="1" Color="{x:Bind AccentAnalyzer.TertiaryAccentColor, Mode=OneWay}" />
                        </GradientStopCollection>
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>
        </Grid>
    </Grid>
</Page>
