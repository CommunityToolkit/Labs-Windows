<Page x:Class="CommunityToolkit.Labs.Shared.Renderers.ToolkitDocumentationRenderer"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="using:CommunityToolkit.Labs.Shared"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:metadata="using:CommunityToolkit.Labs.Core.SourceGenerators.Metadata"
      xmlns:renderer="using:CommunityToolkit.Labs.Shared.Renderers"
      xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
      mc:Ignorable="d">

    <Page.Resources>
        <DataTemplate x:Key="DocumentTemplate"
                      x:DataType="x:String">
            <TextBlock win:IsTextSelectionEnabled="True"
                       Text="{Binding}" />
        </DataTemplate>

        <DataTemplate x:Key="SampleTemplate"
                      x:DataType="metadata:ToolkitSampleMetadata">
            <!-- TODO: Display Header for name of sample? -->
            <renderer:ToolkitSampleRenderer Metadata="{Binding}" />
        </DataTemplate>

        <local:DocOrSampleTemplateSelector x:Key="DocOrSampleTemplateSelector"
                                           Document="{StaticResource DocumentTemplate}"
                                           Sample="{StaticResource SampleTemplate}" />
    </Page.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <ScrollViewer>
            <ItemsControl x:Name="DocItemsControl"
                          ItemsSource="{x:Bind DocsAndSamples, Mode=OneWay}"
                          ItemTemplateSelector="{StaticResource DocOrSampleTemplateSelector}" />
        </ScrollViewer>
        <ItemsControl Grid.Column="1"
                      ItemsSource="{x:Bind Samples, Mode=OneWay}">
            <ItemsControl.ItemTemplate>
                <DataTemplate x:DataType="metadata:ToolkitSampleMetadata">
                    <HyperlinkButton Content="{Binding DisplayName}"
                                     Click="SampleListHyperlink_Click"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</Page>
